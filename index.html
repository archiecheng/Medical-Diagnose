<!--
 * @Author: archiecheng archiechengice@outlook.com
 * @Date: 2024-08-02 20:16:20
 * @LastEditors: archiecheng archiechengice@outlook.com
 * @LastEditTime: 2024-08-09 11:16:33
 * @FilePath: \medical_diagnose\index.html
 * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE
-->
<!DOCTYPE html>
<html>
  <head>
    <title>Medical Diagnose</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="./assets/jquery/jquery.min.js"></script>
    <style>
      * {
        margin: 0;
        padding: 0;
      }

      /* 整体布局 */
      .layout {
        height: 100vh;
        display: flex;
        position: relative;
      }

      .side_bar {
        background-color: #eceeff;
        box-sizing: border-box;
        width: 200px;
        padding: 20px;
        transition: width 0.3s ease, padding 0.3s ease; /* 添加平滑过渡 */
        position: relative; /* 使图标能够定位 */
        overflow: hidden; /* 确保内容在收起时隐藏 */
        white-space: nowrap;
        text-overflow: ellipsis;
      }
      .chat_content {
        background: url("./assets/images/background.png") no-repeat center
          center;
        flex-grow: 1;
        background-size: cover;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
      }

      /* 左侧布局 */
      .side_bar.hidden {
        width: 0; /* 收起后的宽度 */
        padding: 0; /* 移除padding以确保侧边栏完全隐藏 */
      }

      .layout img {
        position: absolute;
        top: 10px; /* 将按钮放置在顶部10px的位置 */
        left: 15px;
        width: 25px;
        height: 20px;
        cursor: pointer;
        padding: 3px;
        border: 2px solid transparent;
        transition: border-color 0.3s ease, left 0.3s ease,
          background-color 0.3s ease;
        z-index: 999;
      }

      .layout img:hover {
        background-color: rgba(0, 0, 0, 0.2); /* 设置一个20%透明度的黑色背景 */
        border-radius: 5px; /* 可选：圆角边框 */
      }

      .side_bar ul {
        list-style: none;
        margin-top: 50px;
      }

      .side_bar ul li {
        margin-bottom: 15px;
      }

      .side_bar ul li a {
        text-decoration: none;
        color: rgb(99, 106, 154);
        display: block;
        overflow: hidden;
        text-overflow: ellipsis; /* 避免文字溢出变形 */
      }

      /* 右侧布局 */
      .chat_content {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        align-items: center;
      }

      .chat_content .message_container {
        position: relative;
        width: 100%;
        height: calc(100% - 70px);
      }

      .message_tip {
        position: absolute;
        left: 10px;
        top: 30px;
        font-size: 60px;
        font-family: "League Spartan";
        font-weight: bold;
      }

      .message_area {
        width: 100%;
        height: 100%;
      }

      .message_list {
        width: 100%;
        height: 100%;
        position: relative;
        box-sizing: border-box;
        overflow: auto;
        border-width: 0px;
        display: flex;
        flex-direction: column;
      }

      .message_left {
        width: 100%;
        height: 120px;
        margin-top: 20px;
      }

      .message_left_item {
        width: 55%;
        height: 100px;
        float: left;
        margin-top: 10px;
        margin-left: 20px;
      }

      .message_left_item .message_left_content {
        position: relative;
        padding: 15px;
        margin-top: 10px;
        display: inline-block;
        border-top-left-radius: 0px;
        background: #e0e6ff;
        border-radius: 16px;
        padding: 10px 20px;
        color: #888;
        font-family: Arial, sans-serif;
        font-size: 18px;
        width: fit-content;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      .message_left_item .message_left_content:before {
        content: "";
        position: absolute;
        top: 10px; /* Adjust the position of the arrow here */
        left: -15px;
        width: 0;
        height: 0;
        border-style: solid;
        border-width: 10px 20px 10px 0;
        border-color: transparent #e0e6ff transparent transparent;
      }
      /* 右边 */
      .message_right {
        width: 100%;
        height: 120px;
        margin-top: 20px;
      }

      .message_right_avatar {
        width: 50px;
        height: 50px;
        margin-right: 30px;
        float: right;
        color: white;
        border-radius: 25px;
        position: relative;
      }

      .message_right_avatar img {
        /* position: absolute; */
        width: 100%;
        height: 100%;
      }

      .message_right_item {
        width: 55%;
        height: 100px;
        float: right;
        margin-top: 10px;
        margin-right: 10px;
        display: flex;
        justify-content: flex-end;
        align-items: center;
      }

      .message_right_content {
        position: relative;
        float: right;
        margin-top: 24px;
        margin-right: 5px;
        background: #e0e6ff;
        border-radius: 16px;
        padding: 10px 20px;
        color: #888;
        font-family: Arial, sans-serif;
        font-size: 18px;
        width: fit-content;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }

      .message_right_content:after {
        content: "";
        position: absolute;
        top: 50%; /* Center the arrow vertically */
        right: -20px; /* Position the arrow to the right */
        transform: translateY(-50%);
        width: 0;
        height: 0;
        border-style: solid;
        border-width: 10px 0 10px 20px;
        border-color: transparent transparent transparent #e0e6ff;
      }

      .chat_content .send_message {
        background-image: linear-gradient(#636a9a, #d7d8ff);
        width: 100%;
        height: 70px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        box-sizing: border-box;
        padding: 20px;
      }

      .send_message input {
        border-radius: 10px;
        height: 30px;
        border: 0px;
        outline: none;
        box-sizing: border-box;
        padding-left: 5px;
        flex: 1;
        margin-right: 20px;
      }

      .send_message .send_button {
        width: 40px;
        height: 25px;
        border-radius: 25px;
        background-color: #636a9a;
        display: flex;
        justify-content: center;
        align-items: center;
        color: white;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <div class="layout">
      <img
        src="./assets/images/sidebar-icon.png"
        class="toggle_img"
        id="toggleButton"
      />
      <div class="side_bar" id="sidebar">
        <ul>
          <li class="nav-item">
            <a href="#">Home</a>
          </li>
          <li class="nav-item">
            <a href="#">Symptom Profile</a>
          </li>
          <li class="nav-item">
            <a href="#">Profile</a>
          </li>
          <li class="nav-item">
            <a href="#">Reports</a>
          </li>
          <li class="nav-item">
            <a href="#">Settings</a>
          </li>
          <li class="nav-item">
            <a href="#">Contact</a>
          </li>
        </ul>
      </div>
      <div class="chat_content">
        <div class="message_container">
          <div class="message_tip">
            How Can We <br />
            Help You <br />
            Today? <br />
          </div>
          <div class="message_list" id="message_list_id">
            <!-- 左边 -->
            <div class="message_left clearfix">
              <div class="message_left_item">
                <div class="message_left_content">
                  Please enQter what you have been diagnosed with and any
                  additional information.
                  <a href="#"
                    >Click here for more information on how to use the app.</a
                  >
                </div>
              </div>
            </div>
            <div class="message_left clearfix">
              <div class="message_left_item">
                <div class="message_left_content">
                  Additional warnings and disclaimers
                </div>
              </div>
            </div>
            <!--右边 -->
            <div class="message_right">
              <div class="message_right_item">
                <div class="message_right_content">Disease Name</div>
                <div class="message_right_avatar">
                  <img src="./assets/images/avatar.png" alt="" />
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="send_message">
          <input
            type="text"
            placeholder="Enter Disease"
            id="send_message_content"
          />
          <div class="send_button" id="button">send</div>
        </div>
      </div>
    </div>

    <script>
      function toggleSidebar(toggleButtonSelector, sidebarSelector) {
        $(document).ready(function () {
          $(toggleButtonSelector).click(function () {
            $(sidebarSelector).toggleClass("hidden");
          });
        });
      }

      function sendMessage(chatContainerId, buttonId, messageInputId) {
        var send_message = document.getElementById(chatContainerId);
        var domBtm = document.getElementById(buttonId);
        var message = document.getElementById(messageInputId);

        domBtm.addEventListener("click", function () {
          var str = message.value;
          if (str.trim() === "") {
            return; // 如果输入内容为空则不发送消息
          }

          var ans =
            '<div class="message_right_item">' +
            '<div class="message_right_content">' +
            str +
            "</div>" +
            '<div class="message_right_avatar">' +
            '<img src="./assets/images/avatar.png" alt="">' +
            " </div>" +
            "</div>";

          var oLi = document.createElement("div");
          oLi.setAttribute("class", "message_right");
          oLi.innerHTML = ans;
          send_message.append(oLi);
          message.value = "";

          // 自动滚动到底部（如果需要）
          send_message.scrollTop = send_message.scrollHeight;
        });
      }

      sendMessage("message_list_id", "button", "send_message_content");
      toggleSidebar("#toggleButton", "#sidebar");
    </script>
  </body>
</html>
